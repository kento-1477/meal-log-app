<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ホーム - 今日の状況</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <div class="dashboard-header">
        <h1>ホーム</h1>
        <nav>
            <a href="/index.html" class="nav-button">食事記録</a>
            <a href="analytics.html" class="nav-button secondary">詳細分析へ</a>
        </nav>
    </div>

    <div class="dashboard-grid-container">

        <!-- 1. カロリー目標 -->
        <div class="card" id="calories-tracker">
            <h3>今日の摂取カロリー</h3>
            <div class="progress-bar-container">
                <div class="progress-bar" style="width: 60%;"></div>
            </div>
            <p class="kpi-value">1500 / 2500 kcal</p>
            <div class="goal-edit-link">
                <a href="goal-setting.html">目標設定</a>
            </div>
        </div>

        <!-- 2. Combined PFC Card (Normal Width) -->
        <div class="card" id="pfc-summary-card">
            <h3>今日のPFCバランス</h3>
            <div class="pfc-summary-content">
                <div class="pfc-chart-container">
                    <canvas id="pfcPieChart"></canvas>
                </div>
                <div class="pfc-details-container">
                    <div class="pfc-details">
                        <p><span>タンパク質</span> <strong>80 / 120g</strong></p>
                        <p><span>脂質</span> <strong>60 / 70g</strong></p>
                        <p><span>炭水化物</span> <strong>150 / 250g</strong></p>
                    </div>
                    <div class="goal-edit-link">
                        <a href="goal-setting.html">目標設定</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- 3. AI Advice -->
        <div class="card" id="ai-advice-card">
            <h3>AIアドバイス</h3>
            <div class="ai-comment">
                <p>今日は脂質が多いですね。夕食は控えめにしましょう。</p>
            </div>
        </div>

        <!-- 4. 食事の質スコア -->
        <div class="card" id="quality-score">
            <h3>今日の食事スコア</h3>
            <p class="score">85<span>/100点</span></p>
            <p>素晴らしいバランスです！</p>
        </div>
        
        <!-- 5. リマインダー -->
        <div class="card" id="reminders">
            <h3>リマインダー</h3>
            <p class="notification">🔔 昼食の記録がまだです！</p>
        </div>

        <!-- 6. 食事記録 -->
        <div class="card large-card" id="meal-log-table">
            <div class="card-header-container">
                <h3>食事記録</h3>
                <div class="date-filter-group">
                    <label for="start-date">開始日:</label>
                    <input type="date" id="start-date">
                    <label for="end-date">終了日:</label>
                    <input type="date" id="end-date">
                    <button id="filter-button" class="button-primary">表示</button>
                </div>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>時間</th>
                        <th>料理名</th>
                        <th>P(g)</th>
                        <th>F(g)</th>
                        <th>C(g)</th>
                        <th>kcal</th>
                    </tr>
                </thead>
                <tbody id="meal-data-body">
                    <!-- 仮データ -->
                    <tr>
                        <td>08:00</td>
                        <td>オートミール</td>
                        <td>10</td>
                        <td>5</td>
                        <td>40</td>
                        <td>250</td>
                    </tr>
                    <tr>
                        <td>12:30</td>
                        <td>鶏胸肉サラダ</td>
                        <td>40</td>
                        <td>10</td>
                        <td>15</td>
                        <td>350</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>

    <script src="dashboard.js"></script>
</body>
</html>